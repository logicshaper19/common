# Optimized .env Configuration for Phase 5 Performance Enhancement
# Based on your current configuration with consolidated feature flags

# Database Configuration (keep existing)
DATABASE_URL=postgresql://elisha@localhost:5432/common_dev
REDIS_URL=redis://localhost:6379

# Application Configuration (keep existing)  
APP_NAME=Common Supply Chain Platform
APP_VERSION=1.0.0
DEBUG=True
LOG_LEVEL=INFO

# Authentication (keep existing)
JWT_SECRET_KEY=your-secret-key-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXIRE_MINUTES=30

# External Services (keep existing)
RESEND_API_KEY=your-resend-api-key-here
SENTRY_DSN=your-sentry-dsn-here

# CORS (keep existing)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Transparency Configuration (keep existing)
TRANSPARENCY_DEGRADATION_FACTOR=0.95
TRANSPARENCY_CALCULATION_TIMEOUT=30

# =============================================================================
# CONSOLIDATED Feature Flags (Phase 5 Optimization)
# =============================================================================
# Replaced 7 individual flags with 3 consolidated flags for better performance

# Core V2 features toggle
V2_FEATURES_ENABLED=true

# Company dashboard features (covers brand, processor, originator, trader)
V2_COMPANY_DASHBOARDS=false

# Admin features
V2_ADMIN_FEATURES=true

# =============================================================================
# REMOVED Feature Flags (consolidated above)
# =============================================================================
# These flags are now handled by the consolidated system:
# V2_DASHBOARD_BRAND=false          -> V2_COMPANY_DASHBOARDS + company_type check
# V2_DASHBOARD_PROCESSOR=false      -> V2_COMPANY_DASHBOARDS + company_type check  
# V2_DASHBOARD_ORIGINATOR=false     -> V2_COMPANY_DASHBOARDS + company_type check
# V2_DASHBOARD_TRADER=false         -> V2_COMPANY_DASHBOARDS + company_type check
# V2_NOTIFICATION_CENTER=false      -> V2_COMPANY_DASHBOARDS
# V2_DASHBOARD_PLATFORM_ADMIN=true  -> V2_ADMIN_FEATURES + role check
# V2_DASHBOARD_ORIGINATOR=true      -> V2_COMPANY_DASHBOARDS (was duplicated)

# =============================================================================
# Performance Optimization Settings
# =============================================================================
# Database pool settings for high-volume operations
DATABASE_POOL_SIZE=20
DATABASE_POOL_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# Health check caching
HEALTH_CHECK_CACHE_DURATION=30

# Materialized view refresh settings
MATERIALIZED_VIEW_REFRESH_INTERVAL=300  # 5 minutes
